{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link rel="stylesheet" href="{% static 'css/messagestyle.css' %}">
</head>
<body>

    <div class="wrapper">

        <div class="instruments">

            <div class="instruments__algorithm">

                <form action="/email/{{ message.id }}/des/encrypt/" method="post" class="instruments__form">
                    {% csrf_token %}
                
                    <div class="instruments__input">
                        <label for="key">Ключ</label>
                        <input type="text" name="key" id="key">
                    </div>
                
                    <button type="submit" class="instruments__link link-fill">
                        <svg width="20px" height="20px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M8.00001 5V8.00415C7.50208 8.01124 7.05704 8.03041 6.67222 8.08214C6.0167 8.17028 5.38835 8.36902 4.87869 8.87868C4.36902 9.38835 4.17028 10.0167 4.08215 10.6722C3.99991 11.2839 3.99995 12.0477 4 12.9342V17.0658C3.99995 17.9523 3.99991 18.7161 4.08215 19.3278C4.17028 19.9833 4.36902 20.6117 4.87869 21.1213C5.38835 21.631 6.0167 21.8297 6.67222 21.9179C7.28387 22.0001 8.0477 22.0001 8.93417 22H15.0659C15.9523 22.0001 16.7161 22.0001 17.3278 21.9179C17.9833 21.8297 18.6117 21.631 19.1213 21.1213C19.631 20.6117 19.8297 19.9833 19.9179 19.3278C20.0001 18.7161 20.0001 17.9523 20 17.0658V12.9342C20.0001 12.0477 20.0001 11.2839 19.9179 10.6722C19.8297 10.0167 19.631 9.38835 19.1213 8.87868C18.6117 8.36902 17.9833 8.17028 17.3278 8.08215C16.943 8.03041 16.4979 8.01124 16 8.00415V5C16 3.34315 14.6569 2 13 2H11C9.34316 2 8.00001 3.34315 8.00001 5ZM11 4C10.4477 4 10 4.44772 10 5V8L14 8V5C14 4.44772 13.5523 4 13 4H11ZM12 13C10.8954 13 10 13.8954 10 15C10 16.1046 10.8954 17 12 17C13.1046 17 14 16.1046 14 15C14 13.8954 13.1046 13 12 13Z"
                                fill="#FFF" />
                        </svg>
                        <span>DES</span>
                    </button>
                </form>
                
                <form action="/email/{{ message.id }}/des/decrypt/" method="post" class="instruments__form">
                    {% csrf_token %}
                
                    <div class="instruments__input">
                        <label for="key">Ключ</label>
                        <input type="text" name="key" id="key">
                    </div>
                    <button type="submit" class="instruments__link link-fill">
                        <svg width="20px" height="20px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M11 4C10.4477 4 10 4.44772 10 5V8H15.0658C15.9523 7.99995 16.7161 7.99991 17.3278 8.08215C17.9833 8.17028 18.6117 8.36902 19.1213 8.87868C19.631 9.38835 19.8297 10.0167 19.9179 10.6722C20.0001 11.2839 20.0001 12.0477 20 12.9342V17.0658C20.0001 17.9523 20.0001 18.7161 19.9179 19.3278C19.8297 19.9833 19.631 20.6117 19.1213 21.1213C18.6117 21.631 17.9833 21.8297 17.3278 21.9179C16.7161 22.0001 15.9523 22.0001 15.0658 22H8.93414C8.04767 22.0001 7.28387 22.0001 6.67222 21.9179C6.0167 21.8297 5.38835 21.631 4.87869 21.1213C4.36902 20.6117 4.17028 19.9833 4.08215 19.3278C3.99991 18.7161 3.99995 17.9523 4 17.0658V12.9342C3.99995 12.0477 3.99991 11.2839 4.08215 10.6722C4.17028 10.0167 4.36902 9.38835 4.87869 8.87868C5.38835 8.36902 6.0167 8.17028 6.67222 8.08214C7.05704 8.03041 7.50208 8.01124 8.00001 8.00415V5C8.00001 3.34315 9.34316 2 11 2H13.0625C14.6848 2 16 3.31516 16 4.9375V5C16 5.55228 15.5523 6 15 6C14.4477 6 14 5.55228 14 5V4.9375C14 4.41973 13.5803 4 13.0625 4H11ZM12 13C10.8954 13 10 13.8954 10 15C10 16.1046 10.8954 17 12 17C13.1046 17 14 16.1046 14 15C14 13.8954 13.1046 13 12 13Z"
                                fill="#FFF" />
                        </svg>
                        <span>DES</span>
                    </button>
                </form>

            </div>

            <div class="instruments__algorithm">
                <form action="/email/{{ message.id }}/rsa/generatepair/" method="post" class="instruments__form">
                    {% csrf_token %}
                
                    <button type="submit" class="instruments__link link-fill">
                        <svg width="20px" height="20px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M20.8535 10.3078C21.4548 12.7192 19.9314 15.1754 17.4511 15.7938C17.1406 15.8712 16.8298 15.9162 16.5225 15.9308L13.8567 20.2291C13.5823 20.6716 13.1461 20.9896 12.6409 21.1155L11.405 21.4237C10.8691 21.5573 10.3264 21.2312 10.1928 20.6953L9.91339 19.5746C9.7827 19.0505 9.8696 18.4957 10.1543 18.0367L12.5994 14.0942C12.2662 13.6431 12.0148 13.1224 11.8714 12.5472C11.2702 10.1358 12.7935 7.67962 15.2738 7.0612C17.7542 6.44279 20.2523 7.89632 20.8535 10.3078ZM16.9823 11.7883C17.5335 11.6508 17.872 11.105 17.7384 10.5692C17.6048 10.0333 17.0496 9.71027 16.4985 9.8477C15.9473 9.98513 15.6088 10.5309 15.7424 11.0668C15.876 11.6027 16.4311 11.9257 16.9823 11.7883Z"
                                fill="#FFF" />
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M11.2514 12.1866C13.7317 11.5681 15.255 9.11196 14.6538 6.70052C14.0526 4.28908 11.5544 2.83555 9.07411 3.45396C6.59377 4.07238 5.07046 6.52857 5.6717 8.94001C5.81511 9.51519 6.06644 10.0359 6.3997 10.4869L3.9546 14.4294C3.66988 14.8885 3.58298 15.4432 3.71367 15.9674L3.99309 17.0881C4.1267 17.6239 4.66943 17.95 5.2053 17.8164L6.44119 17.5083C6.9464 17.3823 7.38257 17.0643 7.657 16.6218L10.3227 12.3236C10.6301 12.3089 10.9409 12.264 11.2514 12.1866ZM11.5389 6.96183C11.6725 7.49771 11.334 8.04353 10.7828 8.18095C10.2316 8.31838 9.67651 7.99537 9.5429 7.4595C9.4093 6.92362 9.74781 6.3778 10.299 6.24038C10.8502 6.10295 11.4053 6.42596 11.5389 6.96183Z"
                                fill="#FFF" />
                        </svg>
                        <span>Сгенерировать пару ключей</span>

                    </button>
                    <span class="instruments__input">{{ pub_key }}</span>
                    <span class="instruments__input">{{ priv_key }}</span>
                </form>

                <form action="/email/{{ message.id }}/rsa/encrypt/" method="post" class="instruments__form">
                    {% csrf_token %}
                
                    <div class="instruments__input">
                        <label for="key">Публичный ключ получателя</label>
                        <input type="text" name="key" id="key">
                    </div>
                
                    <button type="submit" class="instruments__link link-fill">
                        <svg width="20px" height="20px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M8.00001 5V8.00415C7.50208 8.01124 7.05704 8.03041 6.67222 8.08214C6.0167 8.17028 5.38835 8.36902 4.87869 8.87868C4.36902 9.38835 4.17028 10.0167 4.08215 10.6722C3.99991 11.2839 3.99995 12.0477 4 12.9342V17.0658C3.99995 17.9523 3.99991 18.7161 4.08215 19.3278C4.17028 19.9833 4.36902 20.6117 4.87869 21.1213C5.38835 21.631 6.0167 21.8297 6.67222 21.9179C7.28387 22.0001 8.0477 22.0001 8.93417 22H15.0659C15.9523 22.0001 16.7161 22.0001 17.3278 21.9179C17.9833 21.8297 18.6117 21.631 19.1213 21.1213C19.631 20.6117 19.8297 19.9833 19.9179 19.3278C20.0001 18.7161 20.0001 17.9523 20 17.0658V12.9342C20.0001 12.0477 20.0001 11.2839 19.9179 10.6722C19.8297 10.0167 19.631 9.38835 19.1213 8.87868C18.6117 8.36902 17.9833 8.17028 17.3278 8.08215C16.943 8.03041 16.4979 8.01124 16 8.00415V5C16 3.34315 14.6569 2 13 2H11C9.34316 2 8.00001 3.34315 8.00001 5ZM11 4C10.4477 4 10 4.44772 10 5V8L14 8V5C14 4.44772 13.5523 4 13 4H11ZM12 13C10.8954 13 10 13.8954 10 15C10 16.1046 10.8954 17 12 17C13.1046 17 14 16.1046 14 15C14 13.8954 13.1046 13 12 13Z"
                                fill="#FFF" />
                        </svg>
                        <span>RSA</span>
                    </button>
                </form>

                <form action="/email/{{ message.id }}/rsa/decrypt/" method="post" class="instruments__form">
                    {% csrf_token %}
                
                    <div class="instruments__input">
                        <label for="key">Приватный ключ получателя</label>
                        <input type="text" name="key" id="key">
                    </div>
                
                    <button type="submit" class="instruments__link link-fill">
                        <svg width="20px" height="20px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M11 4C10.4477 4 10 4.44772 10 5V8H15.0658C15.9523 7.99995 16.7161 7.99991 17.3278 8.08215C17.9833 8.17028 18.6117 8.36902 19.1213 8.87868C19.631 9.38835 19.8297 10.0167 19.9179 10.6722C20.0001 11.2839 20.0001 12.0477 20 12.9342V17.0658C20.0001 17.9523 20.0001 18.7161 19.9179 19.3278C19.8297 19.9833 19.631 20.6117 19.1213 21.1213C18.6117 21.631 17.9833 21.8297 17.3278 21.9179C16.7161 22.0001 15.9523 22.0001 15.0658 22H8.93414C8.04767 22.0001 7.28387 22.0001 6.67222 21.9179C6.0167 21.8297 5.38835 21.631 4.87869 21.1213C4.36902 20.6117 4.17028 19.9833 4.08215 19.3278C3.99991 18.7161 3.99995 17.9523 4 17.0658V12.9342C3.99995 12.0477 3.99991 11.2839 4.08215 10.6722C4.17028 10.0167 4.36902 9.38835 4.87869 8.87868C5.38835 8.36902 6.0167 8.17028 6.67222 8.08214C7.05704 8.03041 7.50208 8.01124 8.00001 8.00415V5C8.00001 3.34315 9.34316 2 11 2H13.0625C14.6848 2 16 3.31516 16 4.9375V5C16 5.55228 15.5523 6 15 6C14.4477 6 14 5.55228 14 5V4.9375C14 4.41973 13.5803 4 13.0625 4H11ZM12 13C10.8954 13 10 13.8954 10 15C10 16.1046 10.8954 17 12 17C13.1046 17 14 16.1046 14 15C14 13.8954 13.1046 13 12 13Z"
                                fill="#FFF" />
                        </svg>
                        <span>RSA</span>
                    </button>
                </form>

            </div>
        </div>
        
        
        <div class="message">
            <div class="message__info">
                <h3 class="info__item">
                    Отправитель:
                    <span class="bold">
                        {{ message.sender_email }}
                    </span>
                </h3>
                <h3 class="info__item">
                    Получатели:
                    <span class="bold">
                        {{ message.recipients_email }}
                    </span>
                </h3>
                <h1 class="info__item info__subject">
                    Тема:
                    <span class="bold">
                        {{ message.subject }}
                    </span>
                </h1>
                <p class="info__item">
                    Дата: {{ message.date_sent }}
                </p>
            </div>
        
            <div class="info__body">
                {{ message.body|safe }}
            </div>
        </div>

    </div>
    
    

</body>
</html>